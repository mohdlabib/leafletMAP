/**
 * Indonesia GeoJSON API Client (Minified version placeholder)
 * 
 * For production, use the minified version at:
 * https://cdn.jsdelivr.net/gh/mohdlabib/leafletMAP@master/api/indonesia-geojson.min.js
 * 
 * This file should be minified using a tool like terser or uglify-js
 * 
 * Build command:
 * npx terser api/indonesia-geojson.js -c -m -o api/indonesia-geojson.min.js
 */

// This is a placeholder. The actual minified file will be generated from indonesia-geojson.js
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).IndonesiaGeoJSON=t()}(this,function(){"use strict";const e="https://cdn.jsdelivr.net/gh/mohdlabib/leafletMAP@master",t=new Map;async function n(n,r=!0){if(r&&t.has(n))return t.get(n);const i=await fetch(n);if(!i.ok)throw new Error(`HTTP ${i.status}: Failed to fetch ${n}`);const s=await i.json();return r&&t.set(n,s),s}return{CDN_BASE:e,clearCache(){t.clear()},getMasterIndexUrl:()=>`${e}/map_index.json`,getProvincesListUrl:()=>`${e}/provinces.json`,getAllProvincesUrl:(t=!0)=>`${e}/indonesia-district/${t?"prov%2037%20simplified.geojson":"prov%2037.geojson"}`,getAllRegenciesUrl:()=>`${e}/indonesia-district/kab%2037.geojson`,getProvinceDistrictsUrl:t=>`${e}/indonesia-district/${t}/${t}_district.geojson`,getRegencyMapUrl:(t,n)=>`${e}/indonesia-district/${t}/${n}/${n}.geojson`,getDistrictMapUrl:t=>`${e}/${t}`,async getMasterIndex(){return n(this.getMasterIndexUrl())},async getProvincesList(){return n(this.getProvincesListUrl())},async getAllProvinces(e=!0){return n(this.getAllProvincesUrl(e))},async getAllRegencies(){return n(this.getAllRegenciesUrl())},async getProvinceById(e){return(await this.getMasterIndex()).find(t=>t.id===e)||null},async getProvinceByName(e){const t=e.toLowerCase();return(await this.getMasterIndex()).find(e=>e.name.toLowerCase().includes(t))||null},async getProvinceDistricts(e){return n(this.getProvinceDistrictsUrl(e))},async getRegencyMap(e,t){return n(this.getRegencyMapUrl(e,t))},async getDistrictMap(e){return n(this.getDistrictMapUrl(e))},async getRegenciesByProvinceId(e){const t=await this.getProvinceById(e);return t?t.regencies:[]},async getDistrictsByRegencyId(e,t){const n=(await this.getRegenciesByProvinceId(e)).find(e=>e.id===t);return n?n.districts:[]},async searchProvinces(e){const t=e.toLowerCase();return(await this.getMasterIndex()).filter(e=>e.name.toLowerCase().includes(t))},async searchRegencies(e){const t=await this.getMasterIndex(),n=e.toLowerCase(),r=[];for(const e of t)if(e.regencies)for(const t of e.regencies)t.name.toLowerCase().includes(n)&&r.push({...t,provinceName:e.name,provinceId:e.id,provinceFolder:e.folder});return r},async searchDistricts(e){const t=await this.getMasterIndex(),n=e.toLowerCase(),r=[];for(const e of t)if(e.regencies)for(const t of e.regencies)if(t.districts)for(const i of t.districts)i.name.toLowerCase().includes(n)&&r.push({...i,provinceName:e.name,provinceId:e.id,provinceFolder:e.folder,regencyName:t.name,regencyId:t.id,regencyFolder:t.folder});return r},async getStatistics(){const e=await this.getMasterIndex();let t=e.length,n=0,r=0;for(const t of e)if(t.regencies){n+=t.regencies.length;for(const e of t.regencies)e.districts&&(r+=e.districts.length)}return{totalProvinces:t,totalRegencies:n,totalDistricts:r,lastUpdated:(new Date).toISOString()}},toFolderName:(e,t)=>`id${t}_${e.toLowerCase().replace(/ /g,"_")}`,async getAllProvinceIds(){return(await this.getMasterIndex()).map(e=>e.id)},async provinceExists(e){return null!==await this.getProvinceById(e)}}});
